import { getGuild } from "./getGuild.js";
import pc from "picocolors";

const welcomeLines = [
  "========================================================================",
  "██╗░░██╗███████╗██████╗░░█████╗░░██████╗██╗░░██╗██╗███╗░░░███╗░█████╗░",
  "██║░░██║██╔════╝██╔══██╗██╔══██╗██╔════╝██║░░██║██║████╗░████║██╔══██╗",
  "███████║█████╗░░██████╔╝██║░░██║╚█████╗░███████║██║██╔████╔██║███████║",
  "██╔══██║██╔══╝░░██╔══██╗██║░░██║░╚═══██╗██╔══██║██║██║╚██╔╝██║██╔══██║",
  "██║░░██║███████╗██║░░██║╚█████╔╝██████╔╝██║░░██║██║██║░╚═╝░██║██║░░██║",
  "╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝░╚════╝░╚═════╝░╚═╝░░╚═╝╚═╝╚═╝░░░░░╚═╝╚═╝░░╚═╝",
  "",
  "██████╗░███████╗███╗░░░███╗░█████╗░██╗░░██╗███████╗",
  "██╔══██╗██╔════╝████╗░████║██╔══██╗██║░██╔╝██╔════╝",
  "██████╔╝█████╗░░██╔████╔██║███████║█████═╝░█████╗░░",
  "██╔══██╗██╔══╝░░██║╚██╔╝██║██╔══██║██╔═██╗░██╔══╝░░",
  "██║░░██║███████╗██║░╚═╝░██║██║░░██║██║░╚██╗███████╗",
  "╚═╝░░╚═╝╚══════╝╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═╝░░╚═╝╚══════╝",
  "========================================================================",
  "",
  "",
];

function centerText(text) {
  const terminalWidth = process.stdout.columns || 80;
  const textWidth = text.length;
  const padding = Math.max(0, Math.floor((terminalWidth - textWidth) / 2));
  return " ".repeat(padding) + text;
}

console.log(
  pc.magenta(`
${centerText("░██████╗████████╗░█████╗░██████╗░████████╗██╗███╗░░██╗░██████╗░")}
${centerText("██╔════╝╚══██╔══╝██╔══██╗██╔══██╗╚══██╔══╝██║████╗░██║██╔════╝░")}
${centerText("╚█████╗░░░░██║░░░███████║██████╔╝░░░██║░░░██║██╔██╗██║██║░░██╗░")}
${centerText("░╚═══██╗░░░██║░░░██╔══██║██╔══██╗░░░██║░░░██║██║╚████║██║░░╚██╗")}
${centerText("██████╔╝░░░██║░░░██║░░██║██║░░██║░░░██║░░░██║██║░╚███║╚██████╔╝")}
${centerText("╚═════╝░░░░╚═╝░░░╚═╝░░╚═╝╚═╝░░╚═╝░░░╚═╝░░░╚═╝╚═╝░░╚══╝░╚═════╝░")}
`)
);
let isDone = false;
function welcome() {
  console.clear();
  for (let x = 0; x < welcomeLines.length; x++) {
    setTimeout(() => {
      console.log(pc.magenta(centerText(welcomeLines[x])));
      if (x == welcomeLines.length - 1) {
        isDone = true;
      }
      if (isDone) {
        getGuild();
      }
    }, 300 * x);
  }
}

export { welcome, centerText };
